<? namespace Bitrix\Main;$GLOBALS['____926813759']= array(base64_decode('Zm'.'lsZV9le'.'Glz'.'dHM='),base64_decode(''.'c'.'3RydG9'.'1cHBlcg='.'='),base64_decode('bWQ1'),base64_decode(''.'b'.'WQ1'),base64_decode(''.'aW'.'5fYXJyY'.'Xk'.'='),base64_decode('aW'.'5fY'.'XJy'.'YXk'.'='),base64_decode('aW5fYXJ'.'yYXk='),base64_decode('ZGVmaW5lZA=='),base64_decode('ZGVmaW5lZA=='),base64_decode('ZGVm'.'aW5'.'lZA=='),base64_decode('ZmlsZV9leGlzdHM'.'='),base64_decode('Z'.'mlsZ'.'V9le'.'Glzd'.'HM='),base64_decode(''.'Zml'.'s'.'ZV9leGlzdHM='),base64_decode(''.'Z'.'m'.'lsZV9leGl'.'z'.'dH'.'M'.'='),base64_decode('ZX'.'h'.'w'.'b'.'G9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___413029017')){function ___413029017($_705793005){static $_503265091= false; if($_503265091 == false) $_503265091=array('L2'.'JpdHJpeC9sa'.'W'.'Nl'.'b'.'nNlX2'.'tleS5wa'.'HA=','','','REVNTw'.'==','RE'.'VNTw==','QklUUk'.'lY','TElD'.'RU5DRQ==','REVNTw'.'==','L2tl'.'eV91'.'c'.'GRhd'.'GUucGhw'.'P2xpY'.'2Vuc2Vf'.'a2V5PQ='.'=','JnRvYm'.'Fz'.'a2V0PXkmb'.'GFuZz0=','c'.'nU=','a'.'3o=','Ynk=','aHR0cH'.'M6Ly9kZXYu'.'MWM'.'tYml0'.'cml4LnJ1L2'.'xlYXJuaW5nL'.'2Nvd'.'XJzZS9p'.'b'.'m'.'Rle'.'C'.'5'.'wa'.'HA/Q0'.'9VUlN'.'FX0l'.'E'.'P'.'TE'.'z'.'N'.'SZMR'.'VNT'.'T05fSUQ9M'.'jU3'.'M'.'j'.'A=','a'.'HR'.'0'.'cHM6Ly90cmFpbm'.'luZy5ia'.'X'.'RyaX'.'gyNC5jb2'.'0'.'vc3'.'Vw'.'cG9'.'y'.'dC90'.'cmFpbmluZy'.'9jb3V'.'yc2Uva'.'W5'.'kZXg'.'ucGhwP'.'0NPV'.'V'.'JTRV9JRD0xNz'.'gmT'.'EV'.'TU09O'.'X0lEP'.'TI1'.'O'.'TMyJkxFU1NPTl9Q'.'Q'.'VR'.'IP'.'T'.'E3N'.'T'.'IwLjE3NTYyLjI1OTMwLj'.'I'.'1'.'OTMy','c'.'nU'.'=','Ynk=','a3o=','ZGU=','Z'.'XU=',''.'ZnI'.'=','cG'.'w'.'=','aXQ=','dWs=','ZX'.'U=',''.'Y29'.'t',''.'ZW4=','REVNT'.'w==','WQ'.'==','VElN'.'RUxJ'.'TU'.'lUX0VESVRJT0'.'4=','WQ==','RU5'.'DT0RF','W'.'Q'.'==','U2l0ZUV'.'4cGlyZURhdG'.'U=',''.'b'.'W'.'Fpbg='.'=','fnN1cHBv'.'cnRfZ'.'mlu'.'aXNoX2RhdGU=','WS1tLWQ=','WS1'.'tLWQ'.'=','Ym'.'l0c'.'m'.'l4MjQ=','bWFpb'.'g==','flBB'.'UkFNX0NMSUVOV'.'F'.'9'.'MQU5H','aW50cmFuZXQ'.'=','ZW4=',''.'cnU=','bWF'.'p'.'bg='.'=','dm'.'VuZG9y','dWF'.'fYml0cml4'.'X'.'3'.'BvcnRhbA==','dWE'.'=','Yml'.'0cml4'.'X'.'3BvcnRhbA==','ZW4=','M'.'WN'.'fY'.'ml0cm'.'l'.'4X3B'.'vcn'.'RhbA==',''.'cn'.'U=','L2Jp'.'dH'.'J'.'pe'.'C9tb2R1b'.'GVz'.'L21haW4v'.'b'.'G'.'FuZ'.'y91YQ==',''.'d'.'WE=',''.'L2J'.'pdH'.'J'.'pe'.'C9tb2R1b'.'GVzL'.'21haW4vb'.'GFuZ'.'y9ieQ==',''.'Yn'.'k'.'=','L2Jp'.'dH'.'Jp'.'eC9tb2R1bGV'.'z'.'L21ha'.'W4vbGFu'.'Z'.'y'.'9'.'reg==','a3o=','L2Jp'.'dH'.'J'.'p'.'eC9t'.'b2R1b'.'GVzL'.'21haW4'.'vb'.'GFuZy'.'9yd'.'Q='.'=','c'.'nU'.'=',''.'bW'.'F'.'p'.'bg='.'=',''.'flBBUkFN'.'X1B'.'B'.'U'.'l'.'RORVJfSUQ=','b'.'WFpbg='.'=','UEFSQ'.'U'.'1'.'f'.'TUFYX1VT'.'RV'.'J'.'T','bWFpbg==','fk'.'NP'.'VU5UX0VY'.'VFJB','T'.'g==','WQ==','Z'.'Xh0'.'c'.'mFuZ'.'X'.'Q=','Q'.'U5EIFUuTE'.'FT'.'V'.'F9'.'M'.'T0dJT'.'iA+IA'.'==','Q'.'U5EIFUuTE'.'FTVF9MT0dJTiBJ'.'U'.'yBOT1Q'.'gTlV'.'MT'.'A'.'==','aW50'.'cmFuZXQ=','ZXh0cmFuZX'.'Q=','ZXh0cmFu'.'ZX'.'RfZ3J'.'vdXA'.'=','bWFpbg==','fmxpY2Vuc2Vfbm'.'FtZQ==','bWFpb'.'g='.'=','fm'.'x'.'pY2Vu'.'c2'.'VfY'.'29kZXM=','','LA==');return base64_decode($_503265091[$_705793005]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1589236163= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1589236163 === null){ $_80624721= Loader::getDocumentRoot(). ___413029017(0); $LICENSE_KEY= ___413029017(1); if($GLOBALS['____926813759'][0]($_80624721)){ include($_80624721);} $this->_1589236163=($LICENSE_KEY == ___413029017(2) || $GLOBALS['____926813759'][1]($LICENSE_KEY) == ___413029017(3)? ___413029017(4): $LICENSE_KEY);} return $this->_1589236163;} public function getHashLicenseKey(): string{ return $GLOBALS['____926813759'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____926813759'][3](___413029017(5). $this->getKey(). ___413029017(6));} public function isDemoKey(): bool{ return $this->getKey() == ___413029017(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___413029017(8). $this->getHashLicenseKey(). ___413029017(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1291309842= $this->getRegion(); if($GLOBALS['____926813759'][4]($_1291309842,[___413029017(10), ___413029017(11), ___413029017(12)])){ return ___413029017(13);} return ___413029017(14);} public function getRenewalLink(): string{ $_1291309842= $this->getRegion(); if($GLOBALS['____926813759'][5]($_1291309842,[___413029017(15), ___413029017(16), ___413029017(17), ___413029017(18)])){ return self::URL_RENEWAL_LICENSE[$_1291309842];} if($GLOBALS['____926813759'][6]($_1291309842,[___413029017(19), ___413029017(20), ___413029017(21), ___413029017(22), ___413029017(23)])){ return self::URL_RENEWAL_LICENSE[___413029017(24)];} return self::URL_RENEWAL_LICENSE[___413029017(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___413029017(26)];} public function isDemo(): bool{ return $GLOBALS['____926813759'][7](___413029017(27)) && DEMO === ___413029017(28);} public function isTimeBound(): bool{ return $GLOBALS['____926813759'][8](___413029017(29)) && TIMELIMIT_EDITION === ___413029017(30);} public function isEncoded(): bool{ return $GLOBALS['____926813759'][9](___413029017(31)) && ENCODE === ___413029017(32);} public function getExpireDate():?Date{ $_494811682= (int)($GLOBALS[___413029017(33)] ?? min(62,0,20.666666666667)); if($_494811682>(1420/2-710)){ return Date::createFromTimestamp($_494811682);} return null;} public function getSupportExpireDate():?Date{ $_494811682= Option::get(___413029017(34), ___413029017(35)); if(Date::isCorrect($_494811682, ___413029017(36))){ return new Date($_494811682, ___413029017(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___413029017(38))){ return \CBitrix24::getPortalZone();} $_1291309842= Option::get(___413029017(39), ___413029017(40)); if(!empty($_1291309842)){ return $_1291309842;} $_1291309842= $this->__2132572044(); if(!empty($_1291309842)){ return $_1291309842;} return $this->__1141879165();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___413029017(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___413029017(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___413029017(43)];} private function __2132572044():?string{ $_1760450377= Option::get(___413029017(44), ___413029017(45)); if($_1760450377 === ___413029017(46)){ return ___413029017(47);} if($_1760450377 === ___413029017(48)){ return ___413029017(49);} if($_1760450377 === ___413029017(50)){ return ___413029017(51);} return null;} private function __1141879165():?string{ $_1471923540= Application::getDocumentRoot(); if($GLOBALS['____926813759'][10]($_1471923540. ___413029017(52))){ return ___413029017(53);} if($GLOBALS['____926813759'][11]($_1471923540. ___413029017(54))){ return ___413029017(55);} if($GLOBALS['____926813759'][12]($_1471923540. ___413029017(56))){ return ___413029017(57);} if($GLOBALS['____926813759'][13]($_1471923540. ___413029017(58))){ return ___413029017(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___413029017(60), ___413029017(61),(818-2*409));} public function getMaxUsers(): int{ return (int)Option::get(___413029017(62), ___413029017(63),(762-2*381));} public function isExtraCountable(): bool{ return Option::get(___413029017(64), ___413029017(65), ___413029017(66)) === ___413029017(67) && ModuleManager::isModuleInstalled(___413029017(68));} public function getActiveUsersCount(Date $_1328361267= null): int{ $_1912914650= Application::getConnection(); $_1259221733=(159*2-318); if($_1328361267 !== null){  $_1005519232= ___413029017(69).$_1912914650->getSqlHelper()->convertToDbDate($_1328361267);} else{  $_1005519232= ___413029017(70);} if(ModuleManager::isModuleInstalled(___413029017(71))){ $_1030020257="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1005519232}
			"; $_1259221733= (int)$_1912914650->queryScalar($_1030020257); $_588488764= (int)Option::get(___413029017(72), ___413029017(73)); if($_588488764>(1412/2-706) && $this->isExtraCountable()){ $_1030020257="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_588488764}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1005519232}
							AND D.VALUE_ID IS NULL
					"; $_1259221733 += (int)$_1912914650->queryScalar($_1030020257);}} return $_1259221733;}  public function getName(): string{ return Option::get(___413029017(74), ___413029017(75));}  public function getCodes(): array{ $_1522771295= Option::get(___413029017(76), ___413029017(77)); if($_1522771295 != ___413029017(78)){ return $GLOBALS['____926813759'][14](___413029017(79), $_1522771295);} return[];}}?>